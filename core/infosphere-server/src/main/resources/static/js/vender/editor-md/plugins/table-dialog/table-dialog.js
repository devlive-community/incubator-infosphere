/*!
 * Table dialog plugin for Editor.md
 *
 * @file        table-dialog.js
 * @author      pandao
 * @version     1.2.1
 * @updateTime  2015-06-09
 * {@link       https://github.com/pandao/editor.md}
 * @license     MIT
 */
(function(){var a=function(b){var e=jQuery;var d="table-dialog";var c={"zh-cn":{toolbar:{table:"表格"},dialog:{table:{title:"添加表格",cellsLabel:"单元格数",alignLabel:"对齐方式",rows:"行数",cols:"列数",aligns:["默认","左对齐","居中对齐","右对齐"]}}},"zh-tw":{toolbar:{table:"添加表格"},dialog:{table:{title:"添加表格",cellsLabel:"單元格數",alignLabel:"對齊方式",rows:"行數",cols:"列數",aligns:["默認","左對齊","居中對齊","右對齊"]}}},en:{toolbar:{table:"Tables"},dialog:{table:{title:"Tables",cellsLabel:"Cells",alignLabel:"Align",rows:"Rows",cols:"Cols",aligns:["Default","Left align","Center align","Right align"]}}}};b.fn.tableDialog=function(){var s=this;var p=this.cm;var h=this.editor;var w=this.settings;var q=w.path+"../plugins/"+d+"/";var g=this.classPrefix;var k=g+d,u;e.extend(true,this.lang,c[this.lang.name]);this.setToolbar();var y=this.lang;var j=y.dialog.table;var n=['<div class="editormd-form" style="padding: 13px 0;">',"<label>"+j.cellsLabel+"</label>",j.rows+' <input type="number" value="3" class="number-input" style="width:40px;" max="100" min="2" data-rows />&nbsp;&nbsp;',j.cols+' <input type="number" value="2" class="number-input" style="width:40px;" max="100" min="1" data-cols /><br/>',"<label>"+j.alignLabel+"</label>",'<div class="fa-btns"></div>',"</div>"].join("\n");if(h.find("."+k).length>0){u=h.find("."+k);this.dialogShowMask(u);this.dialogLockScreen();u.show()}else{u=this.createDialog({name:k,title:j.title,width:360,height:226,mask:w.dialogShowMask,drag:w.dialogDraggable,content:n,lockScreen:w.dialogLockScreen,maskStyle:{opacity:w.dialogMaskOpacity,backgroundColor:w.dialogMaskBgColor},buttons:{enter:[y.buttons.enter,function(){var J=parseInt(this.find("[data-rows]").val());var G=parseInt(this.find("[data-cols]").val());var D=this.find('[name="table-align"]:checked').val();var H="";var B="------------";var i={_default:B,left:":"+B,center:":"+B+":",right:B+":"};if(J>1&&G>0){for(var z=0,C=J;z<C;z++){var I=[];var F=[];for(var E=0,A=G;E<A;E++){if(z===1){F.push(i[D])}I.push(" ")}if(z===1){H+="| "+F.join(" | ")+" |\n"}H+="| "+I.join((G===1)?"":" | ")+" |\n"}}p.replaceSelection(H);this.hide().lockScreen(false).hideMask();return false}],cancel:[y.buttons.cancel,function(){this.hide().lockScreen(false).hideMask();return false}]}})}var l=u.find(".fa-btns");if(l.html()===""){var x=["align-justify","align-left","align-center","align-right"];var r=j.aligns;var f=["_default","left","center","right"];for(var t=0,v=x.length;t<v;t++){var m=(t===0)?' checked="checked"':"";var o='<a href="javascript:;"><label for="editormd-table-dialog-radio'+t+'" title="'+r[t]+'">';o+='<input type="radio" name="table-align" id="editormd-table-dialog-radio'+t+'" value="'+f[t]+'"'+m+" />&nbsp;";o+='<i class="fa fa-'+x[t]+'"></i>';o+="</label></a>";l.append(o)}}}};if(typeof require==="function"&&typeof exports==="object"&&typeof module==="object"){module.exports=a}else{if(typeof define==="function"){if(define.amd){define(["editormd"],function(b){a(b)})}else{define(function(c){var b=c("./../../editormd");a(b)})}}else{a(window.editormd)}}})();