/*!
 * Goto line dialog plugin for Editor.md
 *
 * @file        goto-line-dialog.js
 * @author      pandao
 * @version     1.2.1
 * @updateTime  2015-06-09
 * {@link       https://github.com/pandao/editor.md}
 * @license     MIT
 */
(function(){var a=function(b){var e=jQuery;var d="goto-line-dialog";var c={"zh-cn":{toolbar:{"goto-line":"跳转到行"},dialog:{"goto-line":{title:"跳转到行",label:"请输入行号",error:"错误："}}},"zh-tw":{toolbar:{"goto-line":"跳轉到行"},dialog:{"goto-line":{title:"跳轉到行",label:"請輸入行號",error:"錯誤："}}},en:{toolbar:{"goto-line":"Goto line"},dialog:{"goto-line":{title:"Goto line",label:"Enter a line number, range ",error:"Error: "}}}};b.fn.gotoLineDialog=function(){var j=this;var n=this.cm;var k=this.editor;var h=this.settings;var q=h.pluginPath+d+"/";var o=this.classPrefix;var g=o+d,l;e.extend(true,this.lang,c[this.lang.name]);this.setToolbar();var f=this.lang;var i=f.dialog["goto-line"];var p=n.lineCount();i.error+=i.label+" 1-"+p;if(k.find("."+g).length<1){var m=['<div class="editormd-form" style="padding: 10px 0;">','<p style="margin: 0;">'+i.label+" 1-"+p+'&nbsp;&nbsp;&nbsp;<input type="number" class="number-input" style="width: 60px;" value="1" max="'+p+'" min="1" data-line-number /></p>',"</div>"].join("\n");l=this.createDialog({name:g,title:i.title,width:400,height:180,mask:h.dialogShowMask,drag:h.dialogDraggable,content:m,lockScreen:h.dialogLockScreen,maskStyle:{opacity:h.dialogMaskOpacity,backgroundColor:h.dialogMaskBgColor},buttons:{enter:[f.buttons.enter,function(){var r=parseInt(this.find("[data-line-number]").val());if(r<1||r>p){alert(i.error);return false}j.gotoLine(r);this.hide().lockScreen(false).hideMask();return false}],cancel:[f.buttons.cancel,function(){this.hide().lockScreen(false).hideMask();return false}]}})}l=k.find("."+g);this.dialogShowMask(l);this.dialogLockScreen();l.show()}};if(typeof require==="function"&&typeof exports==="object"&&typeof module==="object"){module.exports=a}else{if(typeof define==="function"){if(define.amd){define(["editormd"],function(b){a(b)})}else{define(function(c){var b=c("./../../editormd");a(b)})}}else{a(window.editormd)}}})();