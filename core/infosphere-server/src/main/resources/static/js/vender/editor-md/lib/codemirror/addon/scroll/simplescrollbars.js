(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(b){function a(e,g,d){this.orientation=g;this.scroll=d;this.screen=this.total=this.size=1;this.pos=0;this.node=document.createElement("div");this.node.className=e+"-"+g;this.inner=this.node.appendChild(document.createElement("div"));var f=this;b.on(this.inner,"mousedown",function(m){if(m.which!=1){return}b.e_preventDefault(m);var k=f.orientation=="horizontal"?"pageX":"pageY";var n=m[k],l=f.pos;function j(){b.off(document,"mousemove",i);b.off(document,"mouseup",j)}function i(o){if(o.which!=1){return j()}f.moveTo(l+(o[k]-n)*(f.total/f.size))}b.on(document,"mousemove",i);b.on(document,"mouseup",j)});b.on(this.node,"click",function(k){b.e_preventDefault(k);var i=f.inner.getBoundingClientRect(),j;if(f.orientation=="horizontal"){j=k.clientX<i.left?-1:k.clientX>i.right?1:0}else{j=k.clientY<i.top?-1:k.clientY>i.bottom?1:0}f.moveTo(f.pos+j*f.screen)});function h(k){var j=b.wheelEventPixels(k)[f.orientation=="horizontal"?"x":"y"];var i=f.pos;f.moveTo(f.pos+j);if(f.pos!=i){b.e_preventDefault(k)}}b.on(this.node,"mousewheel",h);b.on(this.node,"DOMMouseScroll",h)}a.prototype.moveTo=function(e,d){if(e<0){e=0}if(e>this.total-this.screen){e=this.total-this.screen}if(e==this.pos){return}this.pos=e;this.inner.style[this.orientation=="horizontal"?"left":"top"]=(e*(this.size/this.total))+"px";if(d!==false){this.scroll(e,this.orientation)}};a.prototype.update=function(d,e,f){this.screen=e;this.total=d;this.size=f;this.inner.style[this.orientation=="horizontal"?"width":"height"]=this.screen*(this.size/this.total)+"px";this.inner.style[this.orientation=="horizontal"?"left":"top"]=this.pos*(this.size/this.total)+"px"};function c(f,e,d){this.addClass=f;this.horiz=new a(f,"horizontal",d);e(this.horiz.node);this.vert=new a(f,"vertical",d);e(this.vert.node);this.width=null}c.prototype.update=function(g){if(this.width==null){var f=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;if(f){this.width=parseInt(f.height)}}var e=this.width||0;var h=g.scrollWidth>g.clientWidth+1;var d=g.scrollHeight>g.clientHeight+1;this.vert.node.style.display=d?"block":"none";this.horiz.node.style.display=h?"block":"none";if(d){this.vert.update(g.scrollHeight,g.clientHeight,g.viewHeight-(h?e:0));this.vert.node.style.display="block";this.vert.node.style.bottom=h?e+"px":"0"}if(h){this.horiz.update(g.scrollWidth,g.clientWidth,g.viewWidth-(d?e:0)-g.barLeft);this.horiz.node.style.right=d?e+"px":"0";this.horiz.node.style.left=g.barLeft+"px"}return{right:d?e:0,bottom:h?e:0}};c.prototype.setScrollTop=function(d){this.vert.moveTo(d,false)};c.prototype.setScrollLeft=function(d){this.horiz.moveTo(d,false)};c.prototype.clear=function(){var d=this.horiz.node.parentNode;d.removeChild(this.horiz.node);d.removeChild(this.vert.node)};b.scrollbarModel.simple=function(e,d){return new c("CodeMirror-simplescroll",e,d)};b.scrollbarModel.overlay=function(e,d){return new c("CodeMirror-overlayscroll",e,d)}});